LOADL R6 0x8000
LOADL R7 0xffff
LEA R7 R6 R7

LOADS R5 0

NOP
NOP
NOP

CPY R4 R5
LEA R3 R6 R4

NOP
NOP
NOP

------------------

CPY R4 R5
INCR R4

NOP
NOP
NOP

LEA R2 R6 R4

CPY R1 R2
SUB R1 R3
BRP ------

CPY R3 R2

NOP
NOP
NOP

INCR R4
CPY R1 R4
SUB R1 R7
BRN -----

LEA R0 R6 R5
SEA R3 R6 R5
CPY R3 R0

INCR R5


LEA R1 R6 R3
LEA R2 R6 R4
CPY R0 R1
SUB R0 R2
BRP 4
BR 10
SEA R1 R6 R4
SEA R2 R6 R3
LOADS R5 0

NOP
NOP
NOP

CPY R3 R4
SUB R3 R7
BRN 0xffe7

TEST R5
BRZ 0xffdf

EXIT R0